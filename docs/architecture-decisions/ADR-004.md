ADR-004: Choose CosmosDB as primary global datastore

Context

The platform requires a globally distributed, low-latency data store with multi-region replication and flexible consistency models for microservices.

Decision

Use Azure CosmosDB (Core SQL API) as the primary datastore for globally distributed data. Configure multi-region writes where needed and use appropriate consistency levels per container.

Alternatives

- Use Azure SQL Managed Instance with geo-replication — strong relational model but higher operational cost at scale.
- Use PostgreSQL Hyperscale (Citus) — relational scale-out but less native multi-region capabilities.

Trade-offs

- CosmosDB provides turnkey global distribution and configurable consistency but pricing is RU-based and needs careful tuning.
- Relational options provide transactional guarantees but complicate global distribution and scaling.

Status

Accepted
