ADR-001: Choose hybrid microservices + serverless architecture

Context

TMS is building a portfolio of cloud architectures focusing on scalability, cost efficiency, and operational simplicity. Certain workloads are best suited for long-running containerized microservices while others are ideal for event-driven serverless functions.

Decision

Adopt a hybrid architecture where AKS hosts core stateful and long-running microservices and Azure Functions handle ephemeral, event-driven workloads. Use Service Bus for asynchronous communication and CosmosDB as the primary global datastore.

Alternatives

- Fully serverless approach (Functions + Durable Functions) — simpler ops but may be unsuitable for complex, stateful services.
- Fully containerized approach (AKS-only) — greater control but higher baseline cost for idle workloads.

Trade-offs

- Complexity increases due to hybrid management, but this allows optimized cost and performance per workload.
- Operational overhead for two hosting paradigms vs. flexibility and right-sizing.

Status

Accepted
